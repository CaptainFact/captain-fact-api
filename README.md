# CaptainFact API

## Install

  * Install dependencies with `mix deps.get`
  * Create and migrate your database with `mix ecto.setup`
  
## Configure

### Prod

Following environment variables are required to run in prod. They may be supplied
using environment variables or by using secret files (as generated by docker swarm / kubernettes)
in `/run/secrets`. If a file is supplied, its name must be lowercase and must not contains the `CF_` prefix.

* CF_HOST
* CF_PORT
* CF_PORT_SSL
* CF_SECRET_KEY_BASE
* CF_DB_HOSTNAME
* CF_DB_USERNAME
* CF_DB_PASSWORD
* CF_DB_NAME
* CF_FACEBOOK_APP_ID
* CF_FACEBOOK_APP_SECRET
* CF_FRONTEND_URL
* CF_CHROME_EXTENSION_ID

Following files must also exist in `/run/secrets`; the best way is to use docker secrets but it would work if we mount
a regular directory containing the file:
* cert.pem
* privkey.pem
  
## Run

Start postgres first, then start Phoenix endpoint with `mix phx.server`

API is started on [`localhost:4000`](http://localhost:4000) for http and
[`localhost:4001`](http://localhost:4001) for https.


## Learn more

  * Official website: http://www.phoenixframework.org/
  * Guides: http://phoenixframework.org/docs/overview
  * Docs: https://hexdocs.pm/phoenix
  * Source: https://github.com/phoenixframework/phoenix
